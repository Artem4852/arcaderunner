/*
First time? Check out the tutorial game:
https://sprig.hackclub.com/gallery/getting_started

@title: Arcade runner
@author: Artem4852
@tags: []
@addedOn: 2024-00-00
*/

const player = "p";
const ticket = "t";
const ticketUI = "T";
const ban = "b";
const bug = "B";
const bugUI = "G";

const sky = "s";
const sky2 = "S";
const sky3 = "c";
const sky4 = "C";

const road0 = "a";
const road1 = "A";
const road2 = "D";
const road3 = "d";
const road4 = "e";
const road5 = "f";
const road6 = "g";
const road7 = "h";
const road8 = "i";
const road9 = "j";
const road10 = "k";
const road11 = "l";
const road12 = "m";
const road13 = "n";
const road14 = "o";
const road15 = "q";

const bottomMenu0 = "!";
const bottomMenu1 = "@";
const bottomMenu2 = "#";
const bottomMenu3 = "$";
const bottomMenu4 = "%";
const bottomMenu5 = "^";
const bottomMenu6 = "&";
const bottomMenu7 = "*";
const bottomMenu8 = "(";
const bottomMenu9 = ")";
const bottomMenu10 = "-";
const bottomMenu11 = "+";
const bottomMenu12 = "[";
const bottomMenu13 = "]";
const bottomMenu14 = "'";
const bottomMenu15 = "/";

const plainGrey = "<";
const plainGreyDark = ">";

setLegend(
  [ player, bitmap`................
  ................
  ...666666.......
  ..666666666...9.
  .66666699999.99.
  .6666999999999F.
  .669999999999FF.
  .999999999999FF.
  .999999999999FF.
  .999999999999FF.
  .9999999999999F.
  .99999999999.99.
  ..999999999...9.
  ...999999.......
  ................
  ................
  ` ],
  [ ticket, bitmap`
................
................
................
..8888....8888..
.88888333333333.
.88833322333333.
.88333232333333.
.83332332333333.
.33333332333333.
.33333332333333.
.333333323333CC.
.33333333333CCC.
..CCCC....CCCC..
................
................
................`], 
  [ ticketUI, bitmap`
................
................
................
................
................
................
..8888....8888..
.88888333333333.
.88833322333333.
.88333232333333.
.83332332333333.
.33333332333333.
.33333332333333.
.333333323333CC.
.33333333333CCC.
..CCCC....CCCC..`], 
  [ ban, bitmap`
................
................
.....888888.....
...8833333333...
...8322223333...
..833233323333..
..333233323333..
..333222233333..
..333233323333..
..333233323333..
..3332222333FF..
...33333333FF...
...3333333FFF...
.....FFFFFF.....
................
................`],
  [ bug, bitmap`
................
................
................
.......222222...
.00....22222....
..003322222233..
...033333333333.
..0033333333333.
.00093332222333.
...999922222333.
....9922222999..
......00.00.00..
.....00.00.00...
................
................
................`],
  [ bugUI, bitmap`
................
................
................
................
................
................
.......222222...
.00....22222....
..003322222233..
...033333333333.
..0033333333333.
.00093332222333.
...999922222333.
....9922222999..
......00.00.00..
.....00.00.00...`],
  
  [ sky, bitmap`
7777777777777777
7777777777777777
2222222277777777
2222222227777777
2222222222227777
2222222222222277
2222222222222277
2222222222222277
2222222222227777
2222222222777777
2222222227777777
7777777777777777
7777777777777777
7777777777777777
7777777777777777
7777777777777777`],
  [ sky2, bitmap`
7777777777777777
7777777777777777
7777777777777772
7777777777777722
7222222277772222
7222222222222222
7222222222222222
7222222222222222
7772222222222222
7777777222222222
7777777722222222
7777777777777777
7777777777777777
7777777777777777
7777777777777777
7777777777777777`],
  [ sky3, bitmap`
7777777777777777
7777777777227777
7777777722222277
7777777222222277
7777777777777777
7777777777777777
2227777777777777
2222222227777777
2222222227777777
2222222222777777
2222222227777777
2222222277777777
2222777777777777
7777777777777777
7777777777777777
7777777777777777`],
  [ sky4, bitmap`
7777777777777777
7777777777777777
7722222277777777
7222222222777777
7722222222777777
7722222222777777
7772222277777722
7777777777777222
7777777722222222
7777777222222222
7777777222222222
7777777772222222
7777777777772222
7777777777777777
7777777777777777
7777777777777777`],

  [ road0, bitmap`L11111111L111111
  L11111111L111111
  1LL11111LLDDDD11
  11LL1111LLLLLDDD
  111LL11LL111LLLD
  1111LLLL111111LL
  11111LL111111111
  LLLLL11111111111
  LLLL221111111111
  L111L22111111111
  L111LL2221111111
  11111LL222111111
  1111111LL2221111
  11111111LL221111
  11111111L1LLL111
  11111111L111LLLL
  ` ],
  [ road1, bitmap`11111111LLL11111
  111111111LL11111
  111111112LLLL111
  111111222L111LLL
  D222222L11111111
  LLLLLLL111111111
  L111111111111111
  L111111111111111
  LL11111111111111
  1L1111111111111L
  11LL1111111111LL
  111LLLLLL11LLL11
  1111111LLLLL2111
  11111111LLLL2211
  11111111L11LL221
  11111111L1111L22
  ` ],
  [ road2, bitmap`11111111L1111111
  11111111L1111111
  1111111LL1111111
  LL111LLLLL222111
  1LLLL1111LLL2221
  11LL1111111LLL22
  11LL1111111111LL
  1LL1L11111111111
  LL11L11111111111
  L111L11111111111
  1111LL1111111111
  11111L1111111111
  11111LL11111111L
  111111L1111111LL
  111111LL1111LL11
  2211111L111LL111
  ` ],
  [ road3, bitmap`11111111LL11111L
  111111111L111111
  111111111L111111
  111111111L111111
  1111111LL1L11111
  2222LLLL111L1111
  LLLLL1111111LL11
  1LL1111111111LLL
  1LLL111111111111
  1L1L111111111111
  1L11L1111111111L
  L111LL111111111L
  L1111L11111111LL
  11111LL111111LL1
  111111L11111LL11
  111111LL1111L111
  ` ],
  [ road4, bitmap`11111111L111111L
  1111111L11111111
  1111111L11111111
  1111111L11111111
  111111LL11111111
  111111L111111111
  111111L111111111
  111111L1111DDDDL
  111111LL11DLLLL1
  1111111LDDLL1111
  1111111LLL111111
  LL11111LL1111111
  LLLLLLLLD1111111
  L1111LLLDDDD1111
  11111111LLDDDD11
  1111111111LDDDD1
  ` ],
  [ road5, bitmap`
LLL11111L11111LL
11LLLL11L1111111
11111LLLL1111111
1111111LLLLLLL11
111111LL11111LL1
111111L11111111L
11111LL111111111
LLLLLL1111111111
1111LL1111111111
11111L1111111111
111111L111111111
1111111LL1111111
11111111LLLLLLLL
1111111111111111
1111111111111111
1111111111112222` ],
  [ road6, bitmap`L211111LLLLL1111
  LLLLLLLLLLDDDDD1
  111111DLLLLLLLDD
  11111DDL111111LL
  1111DDL111111111
  L11DDL2111111111
  LLDDLL2211111111
  1LDDL1L221111111
  1LDL11LL22111111
  1LLL111LL221111L
  11L11111LL2111LL
  11L111111L21LL11
  11L111111LLLL111
  LLL1111111LL1111
  1LL11111111L1111
  2LLLLLL1111L1111
  ` ],
  [ road7, bitmap`1111111L111LL111
  1111111LLLL11111
  DD11111LL1111111
  LDDDD111LL111111
  1LLLDDDDLL111111
  11L1LLLDLLL11111
  1LL111LLL1L11111
  1L11111LL1LL1111
  LL11111L111LL111
  L11111LL1111LL11
  11111LL111111LL1
  11111L11111111LL
  1111LL1111111111
  111LL11111111111
  11LLLLLL1111111L
  LLL11111LL1111LL
  ` ],
  [ road8, bitmap`11111111111LLLDD
  111111111111LLLD
  11111111111LL1LL
  111111111LLL1111
  11111111LL111111
  111DDDLLL1111111
  DDDDLLLL21111111
  LLLLL11L22111111
  11111111L2211111
  11111111LL221111
  111111111L222111
  1111111111L22211
  L111111111LL2221
  L1111111111LLL22
  L111111111111LL2
  LL11111111111LLL
  ` ],
  [ road9, bitmap`1111111111222LLL
  D1111111222LLL11
  DD111222LLL11111
  LD1122LLL1111111
  1LL22LL111111111
  11LLL11111111111
  111LL11111111111
  1111LL1111111111
  11111LL111111111
  111111LL11DDDDDD
  1111111LLDDLLLLL
  1111111LLLL11111
  111111LL1L111111
  1111LLL111L11111
  222LL11111LL1111
  LLLL1111111LLL11
  ` ],
  [ road10, bitmap`LL1111LLL11LL11L
  111111L1LLL1L1LL
  11111LL111LLLLL1
  11111L111111LL22
  11111L1111111LLL
  11111L111111111L
  11111L1111111111
  11111L1111111111
  11111L1111111111
  DDDDLL1111111111
  LLLLL1111111111L
  1111LLL111222LLL
  111111LL222LLL11
  1111111LLLLL1111
  111111111L111111
  111111111LL11111
  ` ],
  [ road11, bitmap`L11111111LL111L1
  1111111111LLLLL1
  11111111111LL111
  211111111111L111
  2211111111111L11
  L211111111111L11
  L221111111111L11
  1L2221111111LLLL
  11LL22222LLL11LL
  11LLLLLLLL1111L1
  LL1111111L1111LL
  111111111L11111L
  111111111L11111L
  111111111L111111
  11111111DL111111
  1111111DDL111111
  ` ],
  [ road12, bitmap`1LL111111LLLLL11
  LLLLLLLLL1111111
  1LLL111111111111
  LL1LL11111111111
  L111LL1111111111
  11111LL111111111
  111111L111111112
  111111LL11111222
  1111111L111122LL
  1111111LL222LLL1
  11111111L2LLL111
  11111111LLL11111
  11111111L1111111
  11111111LL111111
  111111111L111111
  111111111L111111
  ` ],
  [ road13, bitmap`11L1111111111LL1
  11L11111111111LL
  11L111111111111L
  11L1111111111111
  11L1111111111111
  1LLDDDD111111111
  LLLLLDD111111111
  L1111LD111111111
  111111L11111121L
  111111L1111222LL
  111111LL2222LL11
  1111111LLLLL1111
  1111111L11111111
  1111111LL1111111
  11111111L1111111
  11111111LLL11111
  ` ],
  [ road14, bitmap`1111111111LL1111
  11111111111LL111
  L11111111111L111
  LL2211111111LL11
  1LL22122222LLLLL
  11LL222LLLL11111
  1LLLLLLL11111111
  LL11LL1111111111
  L1111L1111111111
  11111LL111111111
  111111L1111111DD
  111111LL1111DDDL
  1111111L111DDLLL
  1111111LLDDDLL11
  11111111LLLL1111
  11111111L1111111
  ` ],
  [ road15, bitmap`1111111DL1111111
  111111DDL11LLLLL
  1111DDDLLLLL1111
  1111DLLLL1111111
  LLLLLL111111111L
  11LLL111111111LL
  1111L11111111LL1
  111LL1111111LL11
  11LL22211111L111
  11LLLL21111LL111
  DLL11LL211LLL111
  L11111L21LL1LL11
  111111L22L111L11
  1111111LLL111LL1
  11111111L11111L1
  11111111L11111LL
  ` ],
  [ bottomMenu0, bitmap`
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLL2LLLLLL
LLLLLLLL22LLLLLL
LLLLLLL222LLLLLL
LLLLLL2222222222
` ],
  [ bottomMenu1, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLL22222L
  LLLLLLLLLL22LLLL
  LLLLLLLLLL22LLLL
  22222LLLLL22LLLL
  ` ],
  [ bottomMenu2, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLL2LLLLLLL
  LLLLLLLLLLL2LLLL
  L2LLL2LL2L22222L
  L22L22LL2LL2LLLL
  ` ],
  [ bottomMenu3, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLL111111LLLLLL
  LLLL111111LLLLLL
  LLLL111111LLLLLL
  LLLL111111LLLLLL
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  ` ],
  [ bottomMenu4, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  2222LLLLLLLLLLLL
  2LLL2LLLLLLLLLLL
  2LLL2LLL2222LL22
  2LL22LL22LL2LL2L
  ` ],
  [ bottomMenu5, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLL2LLLLLLLLLLL
  22222222LL2222LL
  LLLL2LLLLLLLL2LL
  ` ],
  [ bottomMenu6, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLL2LLLLLLLLLL
  2L2222222LLLLLLL
  22LLL2LLLLLL2222
  ` ],
  [ bottomMenu7, bitmap`
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLL2LLLLLLLL
  LLLLLLL22LLLLLLL
  LLLLLLL222LLLLLL
  22222222222LLLLL
  ` ],
  [ bottomMenu8, bitmap`
  LLLLLL2222222222
  LLLLLLL222LLLLLL
  LLLLLLLL22LLLLLL
  LLLLLLLLL2LLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu9, bitmap`
  22222LLLLL22222L
  LLLLLLLLLL22LLLL
  LLLLLLLLLL22LLLL
  LLLLLLLLLL22LLLL
  LLLLLLLLLL22222L
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu10, bitmap`
  LL2L2LLL2LL2LLLL
  LLL2LLLL2LL2LLLL
  LL2L2LLL2LL2LLLL
  L22L22LL2LL22LLL
  L2LLL2LL2LLL222L
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu11, bitmap`
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  LLLL111111LLLLL2
  LLLL111111LLLLLL
  LLLL111111LLLLLL
  LLLL111111LLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu12, bitmap`
  2222LLL2LLL22L2L
  2LL2LLL222222LL2
  2LL22LL2LLLLLLLL
  2LLL2LL22LLLLLLL
  2LLL22LL2222LL22
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu13, bitmap`
  LLLL2LLLLLLLL2LL
  22LL2LLLLL2222LL
  L22L2LLLL2LLL2LL
  L22L22LLL2LLL2LL
  22LLL222L22222LL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu14, bitmap`
  22LLL2LLLLLL2222
  2LLLL2LLLLLLLLLL
  2LLLL2LLLLLLLLLL
  2LLLL22LLLLLLLLL
  2LLLLL222LLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],
  [ bottomMenu15, bitmap`
  22222222222LLLLL
  LLLLLLL222LLLLLL
  LLLLLLL22LLLLLLL
  LLLLLLL2LLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  LLLLLLLLLLLLLLLL
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  1111111111111111
  ` ],

  [ plainGrey, bitmap`
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111
1111111111111111`],
  [ plainGreyDark, bitmap`
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL
LLLLLLLLLLLLLLLL`]
)

setSolids([])

let level = map`
SsCcSsSsCc
sCcSsCcSsC
klijklkijl
oqmnoqmnoq
DdaADdaADd
ghefghefgh
klijklijkl
oqmnoqmnoq`;
setMap(level);

let menu = map`
>>>>>>>>>>
<<<<<<<<<<
<>>>>>>>><
<>>>>>>>><
<>>>>>>>><
<>>>>>>>><
<!@#$%^&*<
<()-+[]'/<`;

addSprite(0, 0, "T");
addSprite(9, 0, "G");
addSprite(0, 4, "p");

let banned = false;
let startTime = performance.now();
let lastSpawn = startTime - 1000;
let lastMove = startTime - 1000;
let malfunction = 5;
let score = 0;

onInput("w", () => {
  if (getFirst(player).y != 2 && Math.random() > malfunction * 0.2) {
    getFirst(player).y -= 1
  }
})

onInput("s", () => {
  if (Math.random() > malfunction * 0.2) {
    getFirst(player).y += 1
  }
})

function gameLoop() {
  if (!banned && malfunction < 5 && performance.now()-startTime <= 1000000) {
    // Spawning new tickets
    if (performance.now()-lastSpawn >= 500) {
      const x = 9;
      const y = Math.floor(Math.random()*6)+2;
      const rand = Math.random();
      console.log(rand, rand > 0.4, 0.4 > rand > 0.2);
      if (rand > 0.4) {
        addSprite(x, y, "t");
      } else if (rand > 0.05) {
        addSprite(x, y, "B");
      } else {
        addSprite(x, y, "b");
      }
      lastSpawn = performance.now();
    }

    // Moving everything
    if (performance.now()-lastMove >= 700) {
      const tickets = getAll("t");
      const bans = getAll("b");
      const bugs = getAll("B");
      const sprites = [...tickets, ...bans, ...bugs];
      const toRemove = [];
      sprites.forEach(sprite => {
        if (sprite.x == 0) {
          toRemove.push(sprite);
        } else {
        sprite.x -= 1; 
        }
      });
      toRemove.forEach(sprite => {
        sprite.remove();
      });
      lastMove = performance.now();
    }

    // Player collecting 'em
    const tickets = getAll("t");
    const bans = getAll("b");
    const bugs = getAll("B");
    const sprites = [...tickets, ...bans, ...bugs];
    const toRemove = [];
    sprites.forEach(sprite => {
      if (getTile(sprite.x, sprite.y).some(spriteC => spriteC.type === "p")) {
        if (sprite.type === "t") {
          score++;
        } else if (sprite.type === "B") {
          malfunction++;
        } else if (sprite.type === "b") {
          banned = true;
        }
        toRemove.push(sprite);
      }
    });
    toRemove.forEach(sprite => {
      sprite.remove();
    });

    // Updating score and bugs
    addText(`  ${score}`, {
      x: 1,
      y: 1, 
      color: color`2`
    });

    addText(`${malfunction}`, {
      x: 16,
      y: 1, 
      color: color`2`
    });

    setTimeout(gameLoop, 1000/60)
  }
  else {
    if (banned) {
      text = `Womp womp. You \nwere banned and \nlost ${score} tickets. \nBetter luck \nnext time.`
    } else if (malfunction >= 5) {
      text = `Oh no, you \ncollected too \nmany bugs and \nnow all your ${score} \ntickets flew \naway. Better \nluck next time.`
    }
    setMap(menu);
    addSprite(0, 0, "T")
    addSprite(9, 0, "G")
    addText(text, {
      x: 2,
      y: 4, 
      color: color`2`
    });

    onInput("a", () => {
      return;
    })
    
    onInput("d", () => {
      setMap(level);
      clearText();
      addSprite(0, 0, "T");
      addSprite(9, 0, "G");
      addSprite(0, 4, "p");
      banned = false;
      startTime = performance.now();
      lastSpawn = startTime - 1000;
      lastMove = startTime - 1000;
      malfunction = 0;
      score = 0;
      gameLoop();
    })
  }
}

gameLoop();